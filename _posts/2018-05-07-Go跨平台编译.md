---
layout: post
title: GoLang打包编译
keywords: golang,打包,编译
description: GoLang打包编译
tags: [ golang ]
---

golang中跨平台交叉编译涉及两个重要的环境变量：**GOOS** 和 **GOARCH**,分别代表 **Target Host OS** 和 **Target Host ARCH**. 如果没有显式设置这些环境变量，我们通过go env可以看到go编译器眼中这两个环境变量的当前值
```
GOARCH="amd64"
GOBIN="/data/server/go/bin"
GOEXE=""
GOHOSTARCH="amd64"
GOHOSTOS="linux"
GOOS="linux"
GOPATH="/data/code"
GORACE=""
GOROOT="/data/server/go"
GOTOOLDIR="/data/server/go/pkg/tool/linux_amd64"
GCCGO="gccgo"
CC="gcc"
GOGCCFLAGS="-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build410649157=/tmp/go-build"
CXX="g++"
CGO_ENABLED="1"
CGO_CFLAGS="-g -O2"
CGO_CPPFLAGS=""
CGO_CXXFLAGS="-g -O2"
CGO_FFLAGS="-g -O2"
CGO_LDFLAGS="-g -O2"
PKG_CONFIG="pkg-config"
```

如果想要跨平台编译go程序，只需在build的时候制定目标主机的os和arch，如下例子所示所示
```
GOOS=windows GOARCH=386 go build -o hello.exe hello.go
```
其中二者可以设置如下参数：
```
$GOOS 		$GOARCH 	
darwin 		386
darwin 		amd64
freebsd 	386
freebsd 	amd64
linux 		386
linux 		amd64
linux 		arm 	incomplete
windows 	386 	incomplete
```
如果想要编译其他平台的可执行脚本，秩序指定相应的os和arch即可。